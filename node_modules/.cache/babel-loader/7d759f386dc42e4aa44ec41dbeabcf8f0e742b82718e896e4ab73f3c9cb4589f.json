{"ast":null,"code":"import _objectSpread from\"C:/xampp/htdocs/M6-UF3-PF/gestor-tareas-imperativo-react/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{createContext,useContext,useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";const TaskContext=/*#__PURE__*/createContext();export function useTaskContext(){return useContext(TaskContext);}export function TaskProvider(_ref){let{children}=_ref;const[users,setUsers]=useState([]);const[selectedUser,setSelectedUser]=useState(null);const[theme,setTheme]=useState(\"light\");// User actions\nconst addUser=name=>setUsers([...users,{name,tasks:[]}]);const selectUser=idx=>setSelectedUser(idx);const removeUser=idx=>{setUsers(users.filter((_,i)=>i!==idx));if(selectedUser===idx)setSelectedUser(null);};// Task actions\nconst addTask=text=>{if(selectedUser===null)return;setUsers(users.map((u,i)=>i===selectedUser?_objectSpread(_objectSpread({},u),{},{tasks:[...u.tasks,{text,completed:false}]}):u));};const toggleTask=taskIdx=>{setUsers(users.map((u,i)=>i===selectedUser?_objectSpread(_objectSpread({},u),{},{tasks:u.tasks.map((t,j)=>j===taskIdx?_objectSpread(_objectSpread({},t),{},{completed:!t.completed}):t)}):u));};const deleteTask=taskIdx=>{setUsers(users.map((u,i)=>i===selectedUser?_objectSpread(_objectSpread({},u),{},{tasks:u.tasks.filter((_,j)=>j!==taskIdx)}):u));};const editTask=(taskIdx,text)=>{setUsers(users.map((u,i)=>i===selectedUser?_objectSpread(_objectSpread({},u),{},{tasks:u.tasks.map((t,j)=>j===taskIdx?_objectSpread(_objectSpread({},t),{},{text}):t)}):u));};// Theme\nconst toggleTheme=()=>setTheme(t=>t===\"light\"?\"dark\":\"light\");return/*#__PURE__*/_jsx(TaskContext.Provider,{value:{users,selectedUser,theme,addUser,selectUser,removeUser,addTask,toggleTask,deleteTask,editTask,toggleTheme},children:children});}","map":{"version":3,"names":["createContext","useContext","useState","jsx","_jsx","TaskContext","useTaskContext","TaskProvider","_ref","children","users","setUsers","selectedUser","setSelectedUser","theme","setTheme","addUser","name","tasks","selectUser","idx","removeUser","filter","_","i","addTask","text","map","u","_objectSpread","completed","toggleTask","taskIdx","t","j","deleteTask","editTask","toggleTheme","Provider","value"],"sources":["C:/xampp/htdocs/M6-UF3-PF/gestor-tareas-imperativo-react/src/contexts/TaskContext.jsx"],"sourcesContent":["import { createContext, useContext, useState } from \"react\";\r\n\r\nconst TaskContext = createContext();\r\n\r\nexport function useTaskContext() {\r\n  return useContext(TaskContext);\r\n}\r\n\r\nexport function TaskProvider({ children }) {\r\n  const [users, setUsers] = useState([]);\r\n  const [selectedUser, setSelectedUser] = useState(null);\r\n  const [theme, setTheme] = useState(\"light\");\r\n\r\n  // User actions\r\n  const addUser = (name) => setUsers([...users, { name, tasks: [] }]);\r\n  const selectUser = (idx) => setSelectedUser(idx);\r\n  const removeUser = (idx) => {\r\n    setUsers(users.filter((_, i) => i !== idx));\r\n    if (selectedUser === idx) setSelectedUser(null);\r\n  };\r\n\r\n  // Task actions\r\n  const addTask = (text) => {\r\n    if (selectedUser === null) return;\r\n    setUsers(users.map((u, i) =>\r\n      i === selectedUser\r\n        ? { ...u, tasks: [...u.tasks, { text, completed: false }] }\r\n        : u\r\n    ));\r\n  };\r\n  const toggleTask = (taskIdx) => {\r\n    setUsers(users.map((u, i) =>\r\n      i === selectedUser\r\n        ? {\r\n            ...u,\r\n            tasks: u.tasks.map((t, j) =>\r\n              j === taskIdx ? { ...t, completed: !t.completed } : t\r\n            ),\r\n          }\r\n        : u\r\n    ));\r\n  };\r\n  const deleteTask = (taskIdx) => {\r\n    setUsers(users.map((u, i) =>\r\n      i === selectedUser\r\n        ? { ...u, tasks: u.tasks.filter((_, j) => j !== taskIdx) }\r\n        : u\r\n    ));\r\n  };\r\n  const editTask = (taskIdx, text) => {\r\n    setUsers(users.map((u, i) =>\r\n      i === selectedUser\r\n        ? {\r\n            ...u,\r\n            tasks: u.tasks.map((t, j) =>\r\n              j === taskIdx ? { ...t, text } : t\r\n            ),\r\n          }\r\n        : u\r\n    ));\r\n  };\r\n\r\n  // Theme\r\n  const toggleTheme = () =>\r\n    setTheme((t) => (t === \"light\" ? \"dark\" : \"light\"));\r\n\r\n  return (\r\n    <TaskContext.Provider\r\n      value={{\r\n        users,\r\n        selectedUser,\r\n        theme,\r\n        addUser,\r\n        selectUser,\r\n        removeUser,\r\n        addTask,\r\n        toggleTask,\r\n        deleteTask,\r\n        editTask,\r\n        toggleTheme,\r\n      }}\r\n    >\r\n      {children}\r\n    </TaskContext.Provider>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}